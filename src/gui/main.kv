#:import CONF util.CONF
#:import STRINGS util.STRINGS

<View>:
    id: view
    orientation: 'vertical'
    
    canvas.before:
        Color:
            rgba: CONF["colors"]["background"]
        Rectangle:
            pos: self.pos
            size: self.size
    
    ScrollView:
        id: scroll
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 10
        scroll_timeout: 1000
        effect_cls: 'ScrollEffect'
        
        TagTree:
            id: tree
            size_hint_y: None
            hide_root: True
            
<EntNode>:
    cols: 1
    height: self.minimum_height
    orientation: 'lr-tb'
    color_selected: CONF["colors"]["selected_node"]    
    even_color: CONF["colors"]["background"]
    odd_color: CONF["colors"]["background"]
            
    Label:
        id: label
        font_size: 15
        size_hint_y: None
        text_size: self.width, None
        width: 500
        height: self.texture_size[1]
        padding: (2, 2)

<EntryNode>
    rows: 3
    
    Label:
        id: comment
        font_size: 15
        size_hint: None, None
        size: self.texture_size
        padding: (2, 2)
    
    Label:
        id: reference
        font_size: 15
        size_hint: None, None
        size: self.texture_size
        padding: (2, 2)

<TagNode>:    
    cols: 2
    even_color: CONF["colors"]["tag_background"]
    odd_color: CONF["colors"]["tag_background"]    
    
    TextInput:
        id: input
        multiline: False
        on_text_validate: root.edit_done()
        font_size: 15
        size_hint_y: None
        height: 22
        padding: [2, 2, 2, 2]
        background_color: CONF["colors"]["input_background"]
        
<BasePopup>:
    title: ""
    separator_height: 0
    size_hint: None, None
    size: 400, 200
    on_open: self.focus = True

    GridLayout:
        cols: 1
        rows: 2
        size_hint: None, None
        size: root.size
    
        Label:
            id: label
            font_size: 15
            text_size: self.size
            valign: 'middle'
            padding: 20, 20
            
        AnchorLayout
            size_hint: 1, None
            height: 25
            
            Button:
                id: ok_button
                text: STRINGS["popup"][1][CONF["misc"]["language"]]
                size_hint: None, None
                size: 75, 25
                on_press: root.ok()